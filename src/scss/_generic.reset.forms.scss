//------------------------------------------------------------------------------
// GENERIC: Forms
//------------------------------------------------------------------------------

form {
    @include typecsset-vertical-rhythm;
    padding: 0;
}

//
// iOS 'clickable elements' fix for role='button'
//
// Fixes 'clickability' issue (and more generally, the firing of events such as
// focus as well) for traditionally non-focusable elements with role='button'
// see https://developer.mozilla.org/en-US/docs/Web/Events/click#Safari_Mobile
//
[role='button'] {
    cursor: pointer;
}

//
// 1. Work around a Firefox/IE bug where the transparent `button` background
//    results in a loss of the default `button` focus styles.
//
button {
    background: transparent;
    border: 1px solid $default-gray;
    cursor: pointer;
    padding: .125rem .25rem;

    &:focus {
        outline: 1px dotted; // [1]
        outline: 5px auto -webkit-focus-ring-color; // [1]
    }
}

//
// 1. Normalize includes `font: inherit;`, so `font-family`. `font-size`, etc
//    are properly inherited. However, `line-height` isn't addressed there.
//    Using this ensures we don't need to unnecessarily redeclare the global
//    font stack.
// 2. iOS adds rounded borders by default
// 3. Remove all `margin`s so our classes don't have to do it themselves.
//
input,
button,
select,
textarea {
    line-height: inherit; // [1]
    background-color: transparent;
    -webkit-border-radius: 0; // [2] iOS 8+
    border-radius: 0; // [2]
    color: inherit;
    margin: 0; // [3]
}

//
// 1. Allow labels to use `margin` for spacing.
//
label {
    display: inline-block;
    margin-bottom: 1rem; // [1]
}

//
// Apply a disabled cursor for radios and checkboxes.
//
// Note: Neither radios nor checkboxes can be readonly.
//
input[type='radio']:disabled,
input[type='checkbox']:disabled {
    cursor: not-allowed;
}

//
// Remove the default appearance of temporal inputs to avoid a Mobile Safari
// bug where setting a custom line-height prevents text from being vertically
// centered within the input.
//
// Bug report: https://github.com/twbs/bootstrap/issues/11266
//
input[type='date'],
input[type='time'],
input[type='datetime-local'],
input[type='month'] {
    -webkit-appearance: listbox;
}

//
// Chrome and Firefox set a `min-width: min-content;` on fieldsets,
// so we reset that to ensure it behaves more like a standard block element.
// See https://github.com/twbs/bootstrap/issues/12359.
//
fieldset {
    border: 0;
    min-width: 0;
    padding: 0;
    margin: 0 0 1.5rem;
}

legend {
    font-size: 1.5rem;
    line-height: inherit;
    display: block;
    margin-bottom: 0 0 1rem;
    width: 100%;
}

//
// This overrides the extra rounded corners on search inputs in iOS so that our
// `.form-control` class can properly style them. Note that this cannot simply
// be added to `.form-control` as it's not specific enough. For details, see
// https://github.com/twbs/bootstrap/issues/11586.
//
input[type='search'] {
    -webkit-appearance: none;
}

// todo: needed?
output {
    display: inline-block;
}

//
// specify the minimum height of form elements
//
button,
[type='button'],
[type='date'],
[type='datetime'],
[type='datetime-local'],
[type='email'],
[type='month'],
[type='number'],
[type='password'],
[type='reset'],
[type='search'],
[type='submit'],
[type='tel'],
[type='text'],
[type='time'],
[type='url'],
[type='week'],
select,
textarea {
    min-height: 1.5em;
}

//
// Allow only vertical resizing of textareas.
//
textarea {
    resize: vertical;
}

//
// specify the standard appearance of selects
//
select {
    -moz-appearance: none;    /* Firefox 40+ */
    -webkit-appearance: none; /* Chrome 45+ */

    &::-ms-expand {
        display: none;        /* Edge 12+, Internet Explorer 11- */
    }

    &::-ms-value {
        color: currentColor;  /* Edge 12+, Internet Explorer 11- */
    }
}
